<header
  class="header position-fixed top-0 start-0 end-0 mat-elevation-z3"
  [ngStyle]="{ 'z-index': 11 }"
>
  <mat-toolbar color="primary">
    <div class="container d-flex align-items-center">
      <span [routerLink]="['']">CLI Exec</span>

      <ng-container *ngIf="user$ | async as user">
        <div *ngIf="user?.data?.token" class="ms-auto">
          <!--
          <button mat-icon-button [routerLink]="['/notification']">
            <mat-icon>notifications_active</mat-icon>
          </button>
          -->

          <button
            mat-icon-button
            class="ms-3"
            [matMenuTriggerFor]="accountMenu"
          >
            <mat-icon>account_circle</mat-icon>
          </button>

          <mat-menu #accountMenu="matMenu" xPosition="before" class="mt-3">
            <button mat-menu-item [routerLink]="['/profile']">
              <mat-icon>badge</mat-icon>
              <span>Profile</span>
            </button>

            <button mat-menu-item [routerLink]="['/security']">
              <mat-icon>admin_panel_settings</mat-icon>
              <span>Security</span>
            </button>

            <button mat-menu-item (click)="signout()">
              <mat-icon>logout</mat-icon>
              <span>Sign out</span>
            </button>
          </mat-menu>
        </div>
      </ng-container>
    </div>
  </mat-toolbar>

  <mat-progress-bar
    *ngIf="loading"
    mode="indeterminate"
    color="accent"
  ></mat-progress-bar>
</header>
